DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="theme-color" content="currentcolour">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Coffee Box.">
    <link rel="stylesheet" href="CSS/moviepicker.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta content="text/html; charset=iso-8859-2" http-equiv="Content-Type">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Welcome</title>
</head>

<body>

    <div id="main" style="background-image: url('Images/background.jpg'); border-radius: 10px;">
        <p class="logoDiv">
            <a href="Welcome Page.html"><img src="Images/Logo.jpg" alt="Logo" class="logo"></a>
        </p>

        <div class="topnav">
            <a class="active" href="Index.html">Home</a>
            <a href="#about">Movie Picker </a>
            <a href="#contact">Contact</a>
        </div>

        <div class="row1">
            <div class="w3-content w3-section" style="max-width:220px" ;>
                <img class="mySlides" src="Images/SpiderMan.jpg" style="width:100%">

            </div>
            <div class="w3-content w3-section" style="max-width:220px" ;>

                <img class="mySlides" src="Images/IronMan3.jpg" style="width:100%">
            </div>
            <div class="w3-content w3-section" style="max-width:220px" ;>

                <img class="mySlides" src="Images/Wrath-of-man.jpg" style="width:100%">
            </div>
            <div class="w3-content w3-section" style="max-width:220px" ;>
                <img class="mySlides" src="Images/ThorRagnarok.jpg" style="width:100%">

            </div>
            <div class="w3-content w3-section" style="max-width:220px" ;>
                <img class="mySlides" src="Images/BlackPanther.jpg" style="width:100%">

            </div>
        </div>
        <div class="form">
            <p class="head">Lets start with Selecting Mood</p>
            <form action="/action_page.php">
                <label for="Mood">How are you feeling?</label>
                <select id="moodpick">
                <option value="1">Happy</option>
                <option value="2">Neutral</option>
                <option value="3">Sad</option>
                <option value="4">excited</option>
              </select>
                <label for="FavGen">What is your fav genre?</label>
                <select id="genrepick">
                <option value="4">Horror</option>
                <option value="2">Action</option>
                <option value="1">Comedy</option>
                <option value="3">Drama</option>
              </select>
                <label for="Occasion">What is the occasion?</label>
                <select id="occasionpick">
                <option value="4">Date with someone ;)</option>
                <option value="2">Movie night with friends</option>
                <option value="3">Just watching a movie by myself</option>
                <option value="1">Watching a movie with family</option>
              </select>
                <label for="generation">Lets select a year group</label>
                <select id="yearpick">
                <option value="2010s">2010-2022</option>
                <option value="2000s">2000-2010</option>
                <option value="1990s">1990-2000 old school ;)</option>
                <option value="noPick">I dont mind any</option>
              </select>
                <input type="submit" value="Submit" />
            </form>
        </div>
    </div>
    <button onclick="myFunction()">Try it</button>
    </div>
    <footer>
        <p2>Author: Movie Box<br>
            <a href="mailto:hege@example.com">MovieBox@gmail.com</a></p2>
    </footer>

    <script>
        function myFunction() {

            var selectedValueQ1 = document.getElementById("moodpick").value;

            var selectedValueQ2 = document.getElementById("genrepick").value;

            var selectedValueQ3 = document.getElementById("occasionpick").value;

            const arr = [selectedValueQ1, selectedValueQ2, selectedValueQ3];

            //sort the array
            arr.sort();

            //find the max frequency using linear traversal
            let max_count = 1,
                res = arr[0];
            let curr_count = 1;

            for (let i = 1; i < 4; i++) {
                if (arr[i] == arr[i - 1])
                    curr_count++;
                else {
                    if (curr_count > max_count) {
                        max_count = curr_count;
                        res = arr[i - 1];
                    }
                    curr_count = 1;

                }
            }

            //If last element is most frequent 
            if (curr_count > max_count) {
                max_count = curr_count;
                res = arr[n - 1];

            }
            //alert(res.text);

            var display_message = "";

            if (res == 1) {
                display_message += "You'll be watching a Comedy movie! ";
            } else if (res == 2) {
                display_message += "You'll be watching a Action movie! ";
            } else if (res == 3) {
                display_message += "You'll be watching a Drama movie! ";
            } else if (res == 4) {
                display_message += "You'll be watching a Horror movie! ";
            }

            var selectedValueQ4 = document.getElementById("yearpick").value;

            if (selectedValueQ4 == "noPick") {
                display_message += " From the 1990-2022.";
            } else {
                display_message += " From the " + selectedValueQ4;
            }

            console.log(display_message);
            alert(display_message);
            return res;


        }






        var myIndex = 0;
        carousel();

        function carousel() {
            var i;
            var x = document.getElementsByClassName("mySlides");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            myIndex++;
            if (myIndex > x.length) {
                myIndex = 1
            }
            x[myIndex - 1].style.display = "block";
            setTimeout(carousel, 1300); // Change image every 2 seconds
        }
    </script>



</body>

</html>